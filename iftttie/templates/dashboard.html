<section class="hero {{ class }}">
  <div class="hero-body">
    <div class="container">
      <h1 class="title is-3">{{ title }}</h1>
      <h2 class="subtitle is-5">{{ updates|length }} updates</h2>
    </div>
  </div>
</section>

<section class="section">
  <div class="container">
    {% for grouper, list in updates|groupby('kind') %}
      <h3 class="title is-5">{{ VALUE_KIND_TITLES[grouper] }}</h3>
      {% for batch in list|batch(4, '') %}
        <div class="tile is-ancestor">
          {% for update in batch %}
            {% if update %}
              <div class="tile is-parent is-3">
                <a
                  class="tile is-child notification {{ update|updatetileclass }}"
                  href="/view/{{ update.key }}"
                >
                  <p class="title is-6">{{ app['display_names'].get(update.key, update.key) }}</p>
                  <p class="subtitle is-7" title="{{ update.timestamp }}">
                    {{ update.timestamp.strftime('%b %-d, %H:%M:%S') }}
                  </p>
                  <p
                    class="has-text-centered has-text-weight-bold {{ update|updatebodyclass }}"
                  >{{ update|updatecontent|safe }}</p>
                </a>
              </div>
            {% endif %}
          {% endfor %}
        </div>
      {% endfor %}
    {% endfor %}
  </div>
</section>
